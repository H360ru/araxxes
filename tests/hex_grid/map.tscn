[gd_scene load_steps=3 format=2]

[ext_resource path="res://tests/hex_grid/tileset.tres" type="TileSet" id=1]

[sub_resource type="GDScript" id=1]
script/source = "extends HexGrid

var p1 = Vector2()
var changing = false
var path = []

func _ready():
	build_navigator([11, 9])

func _draw():
	var cell = world_to_map(get_local_mouse_position())
	for i in navigator.get_points():
		for j in navigator.get_point_connections(i):
			draw_line(navigator.get_point_position(i), navigator.get_point_position(j), Color.red, 3.0)
	if not changing:
		for i in range(len(path)):
			if i != 0:
				draw_line(path[i-1], path[i], Color.green, 3.0)

func _process(delta):
	if Input.is_action_just_pressed(\"click\"):
		if changing:
			path = find_path(p1, world_to_map(get_local_mouse_position()))
			changing = false
		else:
			p1 = world_to_map(get_local_mouse_position())
			changing = true
	update()
"

[node name="Map" type="Node2D"]

[node name="TileMap" type="TileMap" parent="."]
modulate = Color( 1, 1, 1, 0.423529 )
tile_set = ExtResource( 1 )
cell_size = Vector2( 82, 94 )
cell_half_offset = 1
centered_textures = true
format = 1
tile_data = PoolIntArray( 5, 4, 0, 7, 14, 0, 8, 8, 0, 9, 8, 0, 11, 8, 0, 65539, 4, 0, 65540, 4, 0, 65541, 4, 0, 65542, 4, 0, 65543, 0, 0, 65544, 8, 0, 65545, 11, 0, 65546, 2, 0, 65547, 2, 0, 131075, 4, 0, 131076, 12, 0, 131077, 0, 0, 131078, 11, 0, 131079, 11, 0, 131080, 0, 0, 131081, 9, 0, 131082, 11, 0, 131083, 2, 0, 196612, 17, 0, 196613, 1, 0, 196614, 23, 0, 196615, 1, 0, 196616, 7, 0, 196617, 2, 0, 196618, 11, 0, 196619, 8, 0, 262148, 25, 0, 262149, 17, 0, 262150, 1, 0, 262151, 2, 0, 262152, 2, 0, 262154, 2, 0, 262155, 8, 0 )
script = SubResource( 1 )
